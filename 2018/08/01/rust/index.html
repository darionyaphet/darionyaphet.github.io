<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="science &amp; art"><title>rust | Hexo</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-time">2018-08-01</div></div></div><div class="container post-header"><h1>rust</h1></div><div class="container post-content"><p><code>Rust Crates 源使用帮助</code></p>
<p>在 <code>$HOME/.cargo/config</code> 中添加如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[source.crates-io]</span><br><span class="line">replace-with = &apos;ustc&apos;</span><br><span class="line"></span><br><span class="line">[source.ustc]</span><br><span class="line">registry = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;</span><br></pre></td></tr></table></figure>
<hr>
<p><code>Rust</code> 是一门系统级编程语言，被设计为保证内存和线程安全，并防止段错误。作为系统级编程语言，它的基本理念是 <strong>零开销抽象</strong>。</p>
<p><code>Rust</code> 可以被归为通用、多范式、编译型、线程安全编程语言。</p>
<p>强调安全性、并发和内存控制。内存安全通过所有权/借用机制、生命周期、以及类型系统来达到的。</p>
<p><code>Rust</code>是一门面向表达式的语言，也就是说大部分语句都是表达式。</p>
<p><code>Rust</code> 使用实现（<code>implementation</code>）、特征（<code>trait</code>）和结构化类型（<code>structured type</code>）而不是类（<code>class</code>）。这与函数式语言更加接近。</p>
<hr>
<p><strong>Hello World</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">  println!(&quot;hello, world&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>fn</code> 表示定义一个函数，main是函数名，{}里包含函数内容。</p>
<p><code>let</code> 关键字进行变量绑定，变量前面加入 mut 关键字，变量就会成为可变绑定的变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let foo = 5; 			// immutable</span><br><span class="line">let mut bar = 5; 	// mutable</span><br></pre></td></tr></table></figure>
<p>例如：<code>let mut a: f64 = 1.0;</code></p>
<p>当看到符号 <code>!</code> 的时候，就代表调用了一个宏而不是一个普通的函数。</p>
<p><strong>array</strong></p>
<p><code>[T; N]</code> 表示一个拥有 T 类型、N 个元素、大小固定的数组。</p>
<p><code>let mut array: [i32; 3] = [0; 3];</code></p>
<hr>
<p><strong>cargo</strong></p>
<p>作为 <code>rust</code> 代码组织管理工具，<code>cargo</code> 提供了一系列的工具，从项目的建立、构建到测试、运行直至部署，为 <code>rust</code> 项目的管理提供尽可能完整的手段，与 <code>rust</code> 语言及其编译器 <code>rustc</code> 各种特性紧密结合。</p>
<p><code>Cargo</code> 负责三个工作：构建你的代码，下载你代码依赖的库并编译这些库。</p>
<p><code>cargo new</code> 新建项目，<code>--bin</code> 参数表示该项目将生成可执行文件，<code>--lib</code> 建立一个library：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cargo new hello_world --bin</span><br><span class="line">     Created binary (application) `hello_world` project</span><br></pre></td></tr></table></figure>
<p><code>Cargo.toml</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[package]</span><br><span class="line">name = &quot;hello_world&quot;</span><br><span class="line">version = &quot;0.1.0&quot;</span><br><span class="line">authors = [&quot;wangchenguang &lt;wangchenguang@zhihu.com&gt;&quot;]</span><br><span class="line"></span><br><span class="line">[dependencies]</span><br></pre></td></tr></table></figure>
<p><code>cargo build</code> 命令对项目进行编译：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cargo build   </span><br><span class="line">   Compiling hello_world v0.1.0 (file:///private/tmp/hello_world)</span><br><span class="line">    Finished dev [unoptimized + debuginfo] target(s) in 1.48 secs</span><br></pre></td></tr></table></figure>
<p><code>cargo run</code></p>
<p>Reference :</p>
<ol>
<li><a href="https://legacy.gitbook.com/book/rustcc/rustprimer/details" target="_blank" rel="noopener">Rust Primer</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/crates.io-index.html" target="_blank" rel="noopener">Rust Crates 源使用帮助</a></li>
<li><a href="https://legacy.gitbook.com/book/kaisery/rust-book-chinese/details" target="_blank" rel="noopener">Rust 程序设计语言（第一版） 简体中文版</a></li>
</ol>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>